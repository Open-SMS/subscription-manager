<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/design_details/design_outline.md at 2023-01-12

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Subscription Manager &#x2013; Software Design Outline</title>
    <link rel="stylesheet" href="../css/maven-base.css" />
    <link rel="stylesheet" href="../css/maven-theme.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">Subscription Manager
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2023-01-12</span>
           | <span id="projectVersion">Version: 0.0.1-SNAPSHOT</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Subscription Manager</h5>
    <ul>
     <li class="none"><a href="../index.html" title="Introduction">Introduction</a></li>
     <li class="none"><a href="../ubiquitous_language.html" title="Ubiquitous Language">Ubiquitous Language</a></li>
     <li class="none"><a href="../design_details/index.html" title="Design Details">Design Details</a></li>
     <li class="none"><a href="../software_development/index.html" title="Software Development">Software Development</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="../project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="../project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
       <h5>Test Coverage</h5>
    <ul>
     <li class="none"><a href="../jacoco/index.html" title="Unit Tests">Unit Tests</a></li>
     <li class="none"><a href="../jacoco-it/index.html" title="Integration Tests">Integration Tests</a></li>
     <li class="none"><a href="../jacoco-test-aggregate/index.html" title="Aggregated Tests">Aggregated Tests</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<h1>Software Design Outline</h1><section>
<h2><a name="Domain_Driven_Design"></a>Domain Driven Design</h2>
<p>This application makes use of Domain Driven Design principles. Each part of the software is assigned specific roles
for implementing the requirements.</p>
<p>Key roles are:</p><section>
<h3><a name="Domain_Model"></a>Domain Model</h3>
<p>The domain model is represented by classes in the <code>uk.co.zodiac2000.subscriptionmanager.domain</code> package. These
classes represent aggregate root entities and their associated value objects. All changes to the state of an aggregate
are performed by calling methods in the aggregate root.</p>
<p>Ideally all business logic should be implemented in the domain model.</p></section><section>
<h3><a name="Repositories"></a>Repositories</h3>
<p>Repositories provide access to the persistence layer. Each aggregate root has an associated repository to retrieve,
persist and delete aggregate roots.</p></section><section>
<h3><a name="Factories"></a>Factories</h3>
<p>Factories are responsible for converting information in the domain model into an external representation of that
information, and for creating new aggregate roots from information provided to the application.</p></section><section>
<h3><a name="DTOs"></a>DTOs</h3>
<p>DTOs are value objects that are external representations of some aspect of the domain model. Some elements of
<a class="externalLink" href="https://martinfowler.com/bliki/CQRS.html">CQRS</a> are used, in particular there are three general groups of DTOs.</p>
<ul>

<li>Response DTOs. These provide an external representation of some information about the domain model.</li>
<li>Request DTOs. These represent a request to the application to provide some information about the domain model.</li>
<li>Command DTOs. These represent a request to the application to make a change to the state of the domain model.</li>
</ul></section><section>
<h3><a name="Service_Facade"></a>Service Facade</h3>
<p>The service facade is responsible for cross-cutting concerns including transaction management and authorization.
Service facade classes have access to the repositories and factories in the Spring context, and work with those
components to make requests to aggregate roots to change the domain model, and to obtain information
about the domain model.</p>
<p>While the service facade may contain application logic, in general business logic should be implemented in the domain
model. Complex procedural code in the service facade should be avoided.</p></section></section><section>
<h2><a name="Presentation_Layer_.2F_API"></a>Presentation Layer / API</h2><section>
<h3><a name="REST_API"></a>REST API</h3>
<p>A REST API is implemented using Spring MVC. Requests made to the API are delegated to the service facade. The API
is responsible for handling HTTP requests, serializing and deserializing external representations of DTOs, and
handling validation errors.</p></section><section>
<h3><a name="Validation"></a>Validation</h3>
<p>Where required, DTOs are validated by the presentation layer using <a class="externalLink" href="https://jcp.org/en/jsr/detail?id=380">JSR 380</a>
Java Bean Validation. Custom constraints are in the <code>uk.co.zodiac2000.subscriptionmanager.constraint</code> package.
When validation fails the Spring <code>MethodArgumentNotValid</code> exception should be translated into a response document
that allows the user to understand and potentially correct the error.</p>
<p>Validation is intended to improve the user experience by accurately reporting why an operation cannot be carried out
because of invalid data. It is not intended to ensure the domain model remains valid which is entirely the
responsibility of the domain model.</p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2023<a href="https://github.com/Open-SMS">Open-SMS</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>